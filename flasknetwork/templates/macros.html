{% macro render_rating_input(field, title, tooltip, is_workload=False) %}
<div class="col-12 col-md-6 col-xl-3">
    <div class="rating-card h-100 text-center py-3">
        <div class="form-label fw-bold mb-2">
            {{ title }}
            <i class="fas fa-info-circle info-tooltip" data-bs-toggle="tooltip" title="{{ tooltip }}"></i>
        </div>
        
        {% if is_workload %}
            {# Workload: Single Select (Categorical) - Normal Order #}
            <div class="rating-bar single-select">
                {% for sub in field %}
                    {{ sub(class="form-check-input visually-hidden") }}
                    <label for="{{ sub.id }}" class="star-label">
                        {% if sub.data == 'light' %}
                            <i class="fas fa-feather"></i>
                        {% elif sub.data == 'medium' %}
                            <i class="fas fa-balance-scale"></i>
                        {% else %} {# heavy #}
                            <i class="fas fa-weight-hanging"></i>
                        {% endif %}
                    </label>
                {% endfor %}
            </div>
        {% else %}
            {# Star Rating: Cumulative (Ordinal) - Reverse Order for CSS Trick #}
            <div class="rating-bar interactive">
                {% for sub in field | reverse %}
                    {{ sub(class="form-check-input visually-hidden") }}
                    <label for="{{ sub.id }}" class="star-label">
                        <i class="fas fa-star"></i>
                    </label>
                {% endfor %}
            </div>
        {% endif %}

        {% if field.errors %}
            <div class="text-danger-custom mt-2">
                {% for e in field.errors %}{{ e }}{% endfor %}
            </div>
        {% endif %}
    </div>
</div>
{% endmacro %}
